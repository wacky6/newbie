/* bliss.js ployfill */
(function(undefined) {String.prototype.endsWith=function(t){var n=arguments.length<2?this.length:arguments[1],e=this.lastIndexOf(t);return-1!==e&&e===n-t.length};String.prototype.startsWith=function(t){var i=arguments.length<2?0:arguments[1];return 0===this.slice(i).indexOf(t)};!function(e){"use strict";function t(e){var t=document.createElement("a");return t.href=e,t}var n=e.URL;if(e.URL=function(n,r){function o(e,t){var n=e.split("&");t&&-1===n[0].indexOf("=")&&(n[0]="="+n[0]);var r=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf("=");if(-1!==t)var n=e.substring(0,t),o=e.substring(t+1);else n=e,o="";n=n.replace(/\+/g," "),o=o.replace(/\+/g," "),r.push({name:n,value:o})}});var o=[];return r.forEach(function(e){o.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),o}function a(e,t){function n(){u||(u=!0,e.search=r(a),u=!1)}function r(e){var t="",n=!0;return e.forEach(function(e){var r=encodeURIComponent(e.name),o=encodeURIComponent(e.value);n||(t+="&"),t+=r+"="+o,n=!1}),t.replace(/%20/g,"+")}var a=[];t&&(a=o(t)),this._setPairs=function(e){a=e},this._updateSteps=function(){n()};var u=!1;Object.defineProperties(this,{append:{value:function(e,t){a.push({name:e,value:t}),n()}},"delete":{value:function(e){for(var t=0;t<a.length;)a[t].name===e?a.splice(t,1):++t;n()}},get:{value:function(e){for(var t=0;t<a.length;++t)if(a[t].name===e)return a[t].value;return null}},getAll:{value:function(e){for(var t=[],n=0;n<a.length;++n)a[n].name===e&&t.push(a[n].value);return t}},has:{value:function(e){for(var t=0;t<a.length;++t)if(a[t].name===e)return!0;return!1}},set:{value:function(e,t){for(var r=!1,o=0;o<a.length;)a[o].name===e?r?a.splice(o,1):(a[o].value=t,r=!0,++o):++o;r||a.push({name:e,value:t}),n()}},toString:{value:function(){return r(a)}}})}function u(){var e=c.href.replace(/#$|\?$|\?(?=#)/g,"");c.href!==e&&(c.href=e)}function i(){l._setPairs(c.search?o(c.search.substring(1)):[]),l._updateSteps()}if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");r&&(n=function(){var e;if(document.implementation&&document.implementation.createHTMLDocument?e=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?(e=document.implementation.createElement("http://www.w3.org/1999/xhtml","html",null),e.documentElement.appendChild(e.createElement("head")),e.documentElement.appendChild(e.createElement("body"))):window.ActiveXObject&&(e=new window.ActiveXObject("htmlfile"),e.write("<head></head><body></body>"),e.close()),!e)throw Error("base not supported");var t=e.createElement("base");t.href=r,e.getElementsByTagName("head")[0].appendChild(t);var o=e.createElement("a");return o.href=n,o.href}());var c=t(n||""),s=!1;try{s=Object.defineProperties&&function(){var e={};return Object.defineProperties(e,{p:{get:function(){return!0}}}),e.p}()}catch(f){s=!1}var h=s?this:document.createElement("a"),l=new a(h,c.search?c.search.substring(1):null);return Object.defineProperties(h,{href:{get:function(){return c.href},set:function(e){c.href=e,u(),i()}},origin:{get:function(){return"origin"in c?c.origin:this.protocol+"//"+this.host}},protocol:{get:function(){return c.protocol},set:function(e){c.protocol=e}},username:{get:function(){return c.username},set:function(e){c.username=e}},password:{get:function(){return c.password},set:function(e){c.password=e}},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[c.protocol];return e?c.host.replace(e,""):c.host},set:function(e){c.host=e}},hostname:{get:function(){return c.hostname},set:function(e){c.hostname=e}},port:{get:function(){return c.port},set:function(e){c.port=e}},pathname:{get:function(){return"/"!==c.pathname.charAt(0)?"/"+c.pathname:c.pathname},set:function(e){c.pathname=e}},search:{get:function(){return c.search},set:function(e){c.search!==e&&(c.search=e,u(),i())}},searchParams:{get:function(){return l}},hash:{get:function(){return c.hash},set:function(e){c.hash=e,u()}},toString:{value:function(){return c.toString()}},valueOf:{value:function(){return c.valueOf()}}}),h},n)for(var r in n)n.hasOwnProperty(r)&&(e.URL[r]=n[r])}(this);}).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof global && global || {});
/* bliss.js (C) LeaVerou, https://github.com/LeaVerou/bliss */
!function(){"use strict";function t(e,n,i){return n=void 0===n?1:n,i=i||n+1,1>=i-n?function(){if("string"===r.type(arguments[n]))return e.apply(this,arguments);var t,i=arguments[n];for(var s in i){var o=Array.from(arguments);o.splice(n,1,s,i[s]),t=e.apply(this,o)}return t}:t(t(e,n+1,i),n,i-1)}function e(t,e,n){for(var i in e){if(n){var s=r.type(n);if("own"===n&&!e.hasOwnProperty(i)||"array"===s&&-1===n.indexOf(i)||"regexp"===s&&!n.test(i)||"function"===s&&!n.call(e,i))continue}var o=Object.getOwnPropertyDescriptor(e,i);!o||o.writable&&o.configurable&&o.enumerable&&!o.get&&!o.set?t[i]=e[i]:(delete t[i],Object.defineProperty(t,i,o))}return t}var r=self.Bliss=e(function(t,e){return"string"===r.type(t)?(e||document).querySelector(t):t||null},self.Bliss);e(r,{extend:e,overload:t,property:r.property||"_",sources:{},noop:function(){},$:function(t,e){return t instanceof Node||t instanceof Window?[t]:Array.from("string"==typeof t?(e||document).querySelectorAll(t):t||[])},type:function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase();return"number"==e&&isNaN(t)?"nan":e},defined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},create:function(t,e){return 1===arguments.length&&("string"===r.type(t)?e={}:(e=t,t=e.tag,delete e.tag)),r.set(document.createElement(t||"div"),e)},each:function(t,e,r){r=r||{};for(var n in t)r[n]=e.call(t,n,t[n]);return r},ready:function(t){return t=t||document,new Promise(function(e,r){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",function(){e()})})},Class:function(t){var e=r.noop;t.hasOwnProperty("constructor")&&(e=t.constructor,delete t.constructor);var n=t["abstract"];delete t["abstract"];var i=function(){if(n&&this.constructor===i)throw new Error("Abstract classes cannot be directly instantiated.");return this.constructor["super"]&&this.constructor["super"]!=i&&this.constructor["super"].apply(this,arguments),e.apply(this,arguments)};i["super"]=t["extends"]||null,delete t["extends"],i.prototype=r.extend(Object.create(i["super"]?i["super"].prototype:Object),{constructor:i}),r.extend(i,t["static"]),delete t["static"];for(var s in t)s in r.classProps&&(r.classProps[s].call(i,i.prototype,t[s]),delete t[s]);return r.extend(i.prototype,t),i.prototype["super"]=i["super"]?i["super"].prototype:null,i},classProps:{lazy:t(function(t,e,r){return Object.defineProperty(t,e,{get:function(){return delete this[e],this[e]=r.call(this)},configurable:!0,enumerable:!0}),t}),live:t(function(t,e,n){return"function"===r.type(n)&&(n={set:n}),Object.defineProperty(t,e,{get:function(){var t=this["_"+e],r=n.get&&n.get.call(this,t);return void 0!==r?r:t},set:function(t){var r=this["_"+e],i=n.set&&n.set.call(this,t,r);this["_"+e]=void 0!==i?i:t},configurable:n.configurable,enumerable:n.enumerable}),t})},include:function(){var t=arguments[arguments.length-1],e=2===arguments.length?arguments[0]:!1,n=document.createElement("script");return e?Promise.resolve():new Promise(function(e,i){r.set(n,{async:!0,onload:function(){e(),r.remove(n)},onerror:function(){i()},src:t,inside:document.head})})},fetch:function(t,n){if(!t)throw new TypeError("URL parameter is mandatory and cannot be "+t);var i=e({url:new URL(t,location),data:"",method:"GET",headers:{},xhr:new XMLHttpRequest},n);i.method=i.method.toUpperCase(),r.hooks.run("fetch-args",i),"GET"===i.method&&i.data&&(i.url.search+=i.data),document.body.setAttribute("data-loading",i.url),i.xhr.open(i.method,i.url.href,i.async!==!1,i.user,i.password);for(var s in n)if(s in i.xhr)try{i.xhr[s]=n[s]}catch(o){self.console&&console.error(o)}"GET"===i.method||i.headers["Content-type"]||i.headers["Content-Type"]||i.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var a in i.headers)i.xhr.setRequestHeader(a,i.headers[a]);return new Promise(function(t,e){i.xhr.onload=function(){document.body.removeAttribute("data-loading"),0===i.xhr.status||i.xhr.status>=200&&i.xhr.status<300||304===i.xhr.status?t(i.xhr):e(Error(i.xhr.statusText))},i.xhr.onerror=function(){document.body.removeAttribute("data-loading"),e(Error("Network Error"))},i.xhr.send("GET"===i.method?null:i.data)})},value:function(t){var e="string"!==r.type(t);return $$(arguments).slice(+e).reduce(function(t,e){return t&&t[e]},e?t:self)}}),r.Hooks=new r.Class({add:function(t,e){this[t]=this[t]||[],this[t].push(e)},run:function(t,e){(this[t]||[]).forEach(function(t){t(e)})}}),r.hooks=new r.Hooks;var n=r.property;r.Element=function(t){this.subject=t,this.data={},this.bliss={}},r.Element.prototype={set:t(function(t,e){t in r.setProps?r.setProps[t].call(this,e):t in this?this[t]=e:this.setAttribute(t,e)},0),transition:function(t,e){return e=+e||400,new Promise(function(n,i){if("transition"in this.style){var s=r.extend({},this.style,/^transition(Duration|Property)$/);r.style(this,{transitionDuration:(e||400)+"ms",transitionProperty:Object.keys(t).join(", ")}),r.once(this,"transitionend",function(){clearTimeout(o),r.style(this,s),n(this)});var o=setTimeout(n,e+50,this);r.style(this,t)}else r.style(this,t),n(this)}.bind(this))},fire:function(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),this.dispatchEvent(r.extend(n,e))}},r.setProps={style:function(t){r.extend(this.style,t)},attributes:function(t){for(var e in t)this.setAttribute(e,t[e])},properties:function(t){r.extend(this,t)},events:function(t){if(t&&t.addEventListener){var e=this;if(t[n]&&t[n].bliss){var r=t[n].bliss.listeners;for(var i in r)r[i].forEach(function(t){e.addEventListener(i,t.callback,t.capture)})}for(var s in t)0===s.indexOf("on")&&(this[s]=t[s])}else for(var o in t)o.split(/\s+/).forEach(function(e){this.addEventListener(e,t[o])},this)},once:t(function(t,e){t=t.split(/\s+/);var r=this,n=function(){return t.forEach(function(t){r.removeEventListener(t,n)}),e.apply(r,arguments)};t.forEach(function(t){r.addEventListener(t,n)})},0),delegate:t(function(t,e,r){this.addEventListener(t,function(t){t.target.closest(e)&&r.call(this,t)})},0,2),contents:function(t){(t||0===t)&&(Array.isArray(t)?t:[t]).forEach(function(t){var e=r.type(t);/^(string|number)$/.test(e)?t=document.createTextNode(t+""):"object"===e&&(t=r.create(t)),t instanceof Node&&this.appendChild(t)},this)},inside:function(t){t.appendChild(this)},before:function(t){t.parentNode.insertBefore(this,t)},after:function(t){t.parentNode.insertBefore(this,t.nextSibling)},start:function(t){t.insertBefore(this,t.firstChild)},around:function(t){t.parentNode&&r.before(this,t),(/^template$/i.test(this.nodeName)?this.content||this:this).appendChild(t)}},r.Array=function(t){this.subject=t},r.Array.prototype={all:function(t){var e=$$(arguments).slice(1);return this[t].apply(this,e)}},r.add=t(function(t,e,n,i){n=r.extend({$:!0,element:!0,array:!0},n),"function"==r.type(e)&&(!n.element||t in r.Element.prototype&&i||(r.Element.prototype[t]=function(){return this.subject&&r.defined(e.apply(this.subject,arguments),this.subject)}),!n.array||t in r.Array.prototype&&i||(r.Array.prototype[t]=function(){var t=arguments;return this.subject.map(function(n){return n&&r.defined(e.apply(n,t),n)})}),n.$&&(r.sources[t]=r[t]=e,(n.array||n.element)&&(r[t]=function(){var e=[].slice.apply(arguments),i=e.shift(),s=n.array&&Array.isArray(i)?"Array":"Element";return r[s].prototype[t].apply({subject:i},e)})))},0),r.add(r.Array.prototype,{element:!1}),r.add(r.Element.prototype),r.add(r.setProps),r.add(r.classProps,{element:!1,array:!1});var i=document.createElement("_");r.add(r.extend({},HTMLElement.prototype,function(t){return"function"===r.type(i[t])}),null,!0)}(),function(t){"use strict";if(Bliss&&!Bliss.shy){var e=Bliss.property;if(t.add({clone:function(){var e=this.cloneNode(!0),r=t.$("*",e).concat(e);return t.$("*",this).concat(this).forEach(function(e,n,i){t.events(r[n],e)}),e}},{array:!1}),Object.defineProperty(Node.prototype,e,{get:function o(){return Object.defineProperty(Node.prototype,e,{get:void 0}),Object.defineProperty(this,e,{value:new t.Element(this)}),Object.defineProperty(Node.prototype,e,{get:o}),this[e]},configurable:!0}),Object.defineProperty(Array.prototype,e,{get:function(){return Object.defineProperty(this,e,{value:new t.Array(this)}),this[e]},configurable:!0}),self.EventTarget&&"addEventListener"in EventTarget.prototype){var r=EventTarget.prototype.addEventListener,n=EventTarget.prototype.removeEventListener,i=function(t,e,r){return r.callback===t&&r.capture==e},s=function(){return!i.apply(this,arguments)};EventTarget.prototype.addEventListener=function(t,n,s){if(this[e]&&n){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};o[t]=o[t]||[],0===o[t].filter(i.bind(null,n,s)).length&&o[t].push({callback:n,capture:s})}return r.call(this,t,n,s)},EventTarget.prototype.removeEventListener=function(t,r,i){if(this[e]&&r){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};o[t]&&(o[t]=o[t].filter(s.bind(null,r,i)))}return n.call(this,t,r,i)}}self.$=self.$||t,self.$$=self.$$||t.$}}(Bliss);
